<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Full Background with Side Dropdown + Draggable & Animated Popups</title>
<style>
    body {
        margin: 0;
        padding: 0;
        height: 100vh;
        background-image: url("setup.png");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        display: flex;
        justify-content: left;
        align-items: flex-start;
        font-family: Arial, sans-serif;
    }

    ul {
        list-style: none;
        padding: 20px;
        margin: 0;
    }

    ul li {
        margin: 10px 0;
        position: relative;
    }

    ul li > div.title {
        width: 300px;
        padding: 15px 30px;
        font-size: 18px;
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.8);
        color: black;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    ul li > div.title:hover {
        background: rgba(0, 123, 255, 0.8);
        color: white;
        transform: scale(1.05);
    }

    .dropdown {
        display: none;
        position: absolute;
        top: 0;
        left: 100%;
        width: 300px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        padding: 5px 0;
        z-index: 1;
    }

    .dropdown a {
        display: block;
        padding: 10px 20px;
        color: black;
        text-decoration: none;
        font-size: 16px;
        transition: background 0.2s;
        cursor: pointer;
    }

    .dropdown a:hover {
        background: rgba(0, 123, 255, 0.2);
    }

    ul li:hover .dropdown {
        display: block;
    }

    /* Modal Overlay */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.6);
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    .modal.show {
        display: flex;
        opacity: 1;
    }

    /* Modal Box */
    .modal-content {
        background: white;
        padding: 40px;
        border-radius: 12px;
        max-width: 800px;
        width: 90%;
        text-align: center;
        position: absolute;
        overflow-y: auto;
        max-height: 80vh;
        cursor: move;
        transform: translate(-50%, -60%);
        opacity: 0;
        transition: all 0.3s ease;
    }
    .modal.show .modal-content {
        opacity: 1;
        transform: translate(-50%, -50%);
    }

    /* Close Button */
    .close-btn {
        position: absolute;
        right: 15px;
        top: 10px;
        font-size: 24px;
        cursor: pointer;
    }

    /* Large Text */
    .modal-text {
        font-size: 22px;
        font-weight: bold;
        margin-bottom: 20px;
        white-space: pre-wrap;
        text-align: left;
    }

    /* Details Button */
    .details-btn {
        margin-top: 15px;
        padding: 14px 30px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 18px;
        cursor: pointer;
    }
    .details-btn:hover {
        background-color: #0056b3;
    }

    /* Back to Home Button */
    a.back-home {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 0.7rem 1.3rem;
        font-size: 1rem;
        font-weight: 600;
        border-radius: 8px;
        background-color: rgba(255, 255, 255, 0.2);
        color: #fff;
        text-decoration: none;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
        transition: all 0.3s ease;
        z-index: 1100; /* stay above modal */
    }

    a.back-home:hover {
        background-color: rgba(255, 255, 255, 0.5);
        transform: scale(1.05);
    }
</style>
</head>
<body>

    <ul>
        <li>
            <div class="title">Necessary HW Components</div>
            <div class="dropdown">
                <a onclick="openModal(`ES5X2 : ETK Device is a specialized tool used for ECU debugging.\n\nIt allows developers to monitor and adjust real-time parameters.\nThis is essential for automotive embedded systems testing.`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-ES592ETKdevice`)">ES5X2 : ETK Device</a>
                <a onclick="openModal(`CancaseXL : CANcase is a comprehensive analysis, diagnostics, and monitoring software tool from Vector Informatik GmbH. \n\nPrimarily used in the automotive and industrial sectors for analyzing data traffic on network systems like CAN, LIN, Ethernet, and FlexRay..`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-CANCase`)">CancaseXL : CAN</a>
                <a onclick="openModal(`Junction Box : serves as a centralized hub for distributing electrical power to various testing components.\n\nAllows you to connect one main power source and distribute it to multiple devices like canalyzer , ETK device.`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-JunctionBox&Cables`)">Junction Box</a>
           </div>
        </li>
        <li>
            <div class="title">Necessary SW applications</div>
            <div class="dropdown">
                <a onclick="openModal(`INCA : For data acquisition, capturing information from ECUs and vehicle buses such as CAN, LIN. It measures signals from sensors and the vehicle environment, allowing engineers to calculate and display derived quantities in real time.`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-INCASetup`)">INCA</a>
                <a onclick="openModal(`Candiagnostics : It is a Bosch Internal tool for diagnostic tester communication via CAN . Helps in reading or writing data.`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-CANDiagnosticsTool`)">Candiagnostics</a>
                <a onclick="openModal(`Canalyzer : CANalyzer is a program from Vector Informatik GmbH for the recording and manipulation of communication on the CAN or LIN bus. \n\nCANalyzer includes the CANdb editor and the CAPL browser for creating your own CAN databases and CAPL programs`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-Canalyzer`)">Canalyzer</a>
            </div>
        </li>
        <li>
            <div class="title">Connection of components</div>
            <div class="dropdown">
                <a onclick="openModal(`Junction Box : Connect the battery terminals to junction box (Red to 12V and Black to GND).`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-Componentsconnection`)">Junction Box</a>
                <a onclick="openModal(`ES5X2 : Connect ES device to Junction Box, Host Laptop, OBD Port and ECU `,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-Componentsconnection`)">ES5X2</a>
                <a onclick="openModal(`CancaseXL : Connect device to Host Laptop and OBD Port.`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-Componentsconnection`)">CancaseXL</a>
                <a onclick="openModal(`OBD Port : CAN1 High and CAN1 Low to be connected to CancaseXL `,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-Componentsconnection`)">OBD Port</a>
            </div>
        </li>
        <li>
            <div class="title">Precautions to be taken</div>
            <div class="dropdown">
                <a onclick="openModal(`- Ensure you have all the necessary prerequisites before going to vehicle\n\n -Ensure you are connecting to right CAN pins of OBD port \n\n - Precheck the canalyzer and ETK device are working fine, check for loose connections. \n\n - Make sure the vehicle battery is sufficiently charged.\n\n - Please ensure not to keep the T15 On without running the engine.`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-Hardwareandconnectionchecks`)">Hardware and connection checks</a>
                <a onclick="openModal(`- Ensure there is appropriate Ethernet connection in PC.\n\n - Make sure to flash the right SW  in ECU and choose right CAN channel for communication.\n\n - Avoid sending write commands unless you're sure of the impact.`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-Softwareconfiguration`)">Software configuration</a>
            </div>
        </li>
        <li>
            <div class="title">Possible blockers and resolutions</div>
            <div class="dropdown">
                <a onclick="openModal(`ES5X2 device not powered up â€“ this can be checked by LED light ON blinking.\n\n - Check if there is any loose connection from junction box to ES device , you can try reconnecting the cable.\n\n - Check if the Ethernet cable connected from ES device to Host PC is blinking, this ensures successful connection.\n\n - IP configuration has to be done correctly.`,`https://inside-docupedia.bosch.com/confluence/display/FCW/MEDC17_DS_Vehicle#MEDC17_DS_Vehicle-Possibleissuesandsolutions`)">Blocker 1</a>
            </div>
        </li>
    </ul>

    <!-- Modal -->
    <div id="popupModal" class="modal" onclick="closeModal(event)">
        <div id="modalBox" class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <pre id="modalText" class="modal-text"></pre>
            <button class="details-btn" id="detailsButton">Click for more details</button>
        </div>
    </div>

    <!-- Back to Home Page Button -->
    <a href="index.html" class="back-home">Back to Home Page</a>

<script>
    let currentUrl = "";

    function openModal(text, url) {
        document.getElementById('modalText').innerText = text;
        currentUrl = url;
        let modal = document.getElementById('popupModal');
        modal.style.display = 'flex';
        setTimeout(() => modal.classList.add('show'), 10); // Trigger animation
        centerModal();
    }

    function closeModal(event) {
        let modal = document.getElementById('popupModal');
        if (!event || event.target === modal || event.target.classList.contains("close-btn")) {
            modal.classList.remove('show');
            setTimeout(() => { modal.style.display = 'none'; }, 300); // Wait for fade out
        }
    }

    // Open link in a new tab
    document.getElementById('detailsButton').addEventListener('click', function() {
        if (currentUrl) {
            window.open(currentUrl, '_blank', 'noopener,noreferrer');
        }
    });

    function centerModal() {
        let modal = document.getElementById("modalBox");
        modal.style.left = "50%";
        modal.style.top = "50%";
    }

    // Make modal draggable
    (function() {
        let modal = document.getElementById("modalBox");
        let isDragging = false, offsetX = 0, offsetY = 0;

        modal.addEventListener("mousedown", function(e) {
            isDragging = true;
            offsetX = e.clientX - modal.offsetLeft;
            offsetY = e.clientY - modal.offsetTop;
        });

        document.addEventListener("mousemove", function(e) {
            if (isDragging) {
                modal.style.left = (e.clientX - offsetX) + "px";
                modal.style.top = (e.clientY - offsetY) + "px";
                modal.style.transform = "";
            }
        });

        document.addEventListener("mouseup", function() {
            isDragging = false;
        });
    })();
</script>

</body>
</html>
